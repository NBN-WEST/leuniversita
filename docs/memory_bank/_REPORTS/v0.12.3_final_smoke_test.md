---
id: TEST-FINAL-012-3
title: v0.12.3 Final Smoke Test Results
owner: QA
status: failed
created_at: 2025-12-23
updated_at: 2025-12-23
tags: [test, smoke, v2, failed]
related: [TEST-012-2]
source_of_truth: docs/memory_bank/_REPORTS
mermaid: required
---

# v0.12.3 Final Smoke Test Results

**Verdict**: üî¥ **READY FOR UI: NO**

The V2 Schema initialization is incomplete. The required database tables (`courses`, `modules`, etc.) are missing, preventing any API verification.

## 1. DB Consistency Check
- **Script**: `scripts/test/db_consistency_v2.sql` (Created)
- **Result**: **NOT RUN** (Cannot connect to DB context).
- **Note**: User indicated `modules.id` might be `TEXT`. Current migration definition uses `UUID`. This discrepancy must be resolved during migration application.

## 2. Seed V2
- **Command**: `npx ts-node scripts/test/seed_v2.ts`
- **Result**: ‚ùå **FAIL**
  ```json
  {
    "code": "PGRST205",
    "message": "Could not find the table 'public.courses' in the schema cache"
  }
  ```

## 3. Smoke Test API (End-to-End)
- **Command**: `./scripts/test/smoke_v2.sh`
- **Result**: ‚ùå **FAIL** (Aborted due to Seed failure).

## 4. Remediation Plan
1. **Apply Migration**: Administrator must run `supabase db push` or valid `psql` command to apply `supabase/migrations/20251221000000_schema_v2.sql`.
   - *Attention*: Verify if `id` columns should be changed to `TEXT` before applying, as per Step 772 requirements.
2. **Re-Run Seed**: Execute `scripts/test/smoke_v2.sh`.
3. **Verify Report**: Check `scripts/test/out/*.json` for valid V2 responses.

## Conclusion
The backend is **NOT** ready for UI integration until the database schema is synchronized.
